<Window x:Class="CareLink.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CareLink"
        mc:Ignorable="d"
        Title="Hancom Carelink 결과지 처리기" Height="800" Width="1000"
        WindowStartupLocation="CenterScreen"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        Closing="Window_Closing">
    <DockPanel>
        <GroupBox Header="결과지" DockPanel.Dock="Top">
            <DockPanel>
                <Button Content="작업실행" Margin="0,0,5,0" VerticalAlignment="Center" Height="70" DockPanel.Dock="Right" Background="Gold" Name="UxRunTask" Click="UxRunTask_Click"/>
                <DockPanel LastChildFill="True" DockPanel.Dock="Top">
                    <TextBlock Text="원본 폴더 경로:" Margin="5" VerticalAlignment="Center" DockPanel.Dock="Left" FontWeight="Bold"/>
                    <Button Content="열기..." Margin="5" VerticalAlignment="Center" DockPanel.Dock="Right" Click="UxSourceFolderOpen_Click"/>
                    <TextBox VerticalAlignment="Center" IsReadOnly="True" Text="{Binding SourceFolder}"/>
                </DockPanel>
                <DockPanel LastChildFill="True" DockPanel.Dock="Bottom">
                    <TextBlock Text="출력 폴더 경로:" Margin="5" VerticalAlignment="Center" DockPanel.Dock="Left" FontWeight="Bold"/>
                    <Button Content="열기..." Margin="5" VerticalAlignment="Center" DockPanel.Dock="Right" Name="UxModifiedFolder" Click="UxModifiedFolderOpen_Click"/>
                    <TextBox VerticalAlignment="Center" IsReadOnly="True" Text="{Binding ModifiedFolder}"/>
                </DockPanel>
            </DockPanel>
        </GroupBox>
        <GroupBox Header="결과지 수정 규칙" DockPanel.Dock="Top">
            <StackPanel>
                <DataGrid DockPanel.Dock="Top" Height="200" ItemsSource="{Binding Rules}" AutoGenerateColumns="False">
                    <DataGrid.Resources>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                        </Style>
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="파일 구별 이름" Width="100" Binding="{Binding Item1}"/>
                        <DataGridTextColumn Header="기준 파일과 같아야 하는 페이지" Width="300" Binding="{Binding Item2}"/>
                        <DataGridTextColumn Header="기준 파일 이름" Width="350" Binding="{Binding Item3}"/>
                        <DataGridTemplateColumn Header="규칙 삭제" Width="80">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="삭제" Margin="1" VerticalAlignment="Center" Padding="0" Style="{x:Null}" Name="_DeleteRule" Click="_DeleteRule_Click" Tag="{Binding}"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
                <DockPanel Margin="0,5">
                    <Button Content="규칙추가" Margin="0,0,5,0" VerticalAlignment="Center" Height="70" DockPanel.Dock="Right" Background="Gold" Name="UxAddRule" Click="UxAddRule_Click"/>
                    <DockPanel LastChildFill="True" DockPanel.Dock="Top">
                        <TextBlock Text="기준 파일:" Margin="5" VerticalAlignment="Center" DockPanel.Dock="Left" FontWeight="Bold"/>
                        <Button Content="열기..." Margin="5" VerticalAlignment="Center" DockPanel.Dock="Right" Name="UxReferenceFileOpen" Click="UxReferenceFileOpen_Click"/>
                        <TextBox VerticalAlignment="Center" IsReadOnly="True" Name="UxReferenceFullName"/>
                    </DockPanel>
                    <DockPanel LastChildFill="True" DockPanel.Dock="Bottom">
                        <TextBlock Text="파일 구별 이름:" Margin="5" VerticalAlignment="Center" DockPanel.Dock="Left" FontWeight="Bold"/>
                        <TextBox VerticalAlignment="Center" Name="UxFileNamePattern" Width="200" Margin="5"/>
                        <TextBlock Text="기준 파일과 같아야 하는 페이지:" Margin="5" VerticalAlignment="Center" DockPanel.Dock="Left" FontWeight="Bold"/>
                        <TextBox VerticalAlignment="Center" Name="UxSamePages" Margin="5"/>
                    </DockPanel>
                </DockPanel>
            </StackPanel>
        </GroupBox>
        <GroupBox Header="통계" DockPanel.Dock="Bottom">
            <DockPanel>
                <TextBlock Text="기간:" Margin="5" VerticalAlignment="Center" DockPanel.Dock="Left" FontWeight="Bold"/>
                <DatePicker Margin="5" DockPanel.Dock="Left" SelectedDate="{Binding StartDate}" Name="UxStartDate" SelectedDateChanged="UxStartDate_SelectedDateChanged"/>
                <TextBlock Text=" ~ " Margin="5" VerticalAlignment="Center" DockPanel.Dock="Left" FontWeight="Bold"/>
                <DatePicker Margin="5" DockPanel.Dock="Left" SelectedDate="{Binding EndDate}" Name="UxEndDate" SelectedDateChanged="UxEndDate_SelectedDateChanged"/>
                <Button Content="오늘" Margin="5" VerticalAlignment="Center" DockPanel.Dock="Left" Name="UxToday" Click="UxToday_Click"/>
                <Button Content="이번달" Margin="5" VerticalAlignment="Center" DockPanel.Dock="Left" Name="UxThisMonth" Click="UxThisMonth_Click"/>
                <Button Content="기록 보기" Margin="5" VerticalAlignment="Center" DockPanel.Dock="Right" Name="UxShowLog" Click="UxShowLog_Click"/>
                <TextBlock Text="{Binding ModifiedFileCount}" Margin="0,0,10,0" VerticalAlignment="Center" DockPanel.Dock="Right" FontWeight="Bold" Foreground="ForestGreen"/>
                <TextBlock Text="지정 기간내 처리된 파일 총수: " Margin="5" VerticalAlignment="Center" DockPanel.Dock="Right" FontWeight="Bold" TextAlignment="Right"/>
            </DockPanel>
        </GroupBox>
        <GroupBox Header="작업 기록" DockPanel.Dock="Top">
            <TextBox x:Name="UxLogPane" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" IsReadOnly="True" FontFamily="Consolas" Background="Black" Foreground="LightGreen" Padding="5"/>
        </GroupBox>
    </DockPanel>
</Window>
